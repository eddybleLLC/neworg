this.wdg=this.wdg||{},this.wdg.scripts=function(){"use strict";class e{constructor(e,t){this.node=e,this.className=t,this.focused=!1,this.node.addEventListener("focus",this.focus.bind(this),!0),this.node.addEventListener("blur",this.blur.bind(this),!0)}toggle(){return this.focused?this.blur():this.focus()}focus(){this.focused=!0,this.node.classList.add(this.className),this.node.dispatchEvent(new CustomEvent("site:focus-within:focus"))}blur(){this.focused=!1,this.node.classList.remove(this.className),this.node.dispatchEvent(new CustomEvent("site:focus-within:blur"))}}class t{constructor(e){this.rootNode=e,this.controlledNodes=[],this.openIndex=null,this.useArrowKeys=!0,this.topLevelNodes=[...this.rootNode.querySelectorAll(".nav__link, button[aria-expanded][aria-controls]")],this.topLevelNodes.forEach((e=>{if("button"===e.tagName.toLowerCase()&&e.hasAttribute("aria-controls")){const t=e.parentNode.querySelector(".nav__menu-sub");t&&(this.controlledNodes.push(t),e.setAttribute("aria-expanded","false"),this.toggleMenu(t,!1),t.addEventListener("keydown",this.onMenuKeyDown.bind(this)),e.addEventListener("click",this.onButtonClick.bind(this)),e.addEventListener("keydown",this.onButtonKeyDown.bind(this)))}else this.controlledNodes.push(null),e.addEventListener("keydown",this.onLinkKeyDown.bind(this))})),this.rootNode.addEventListener("focusout",this.onBlur.bind(this))}controlFocusByKey(e,t,s){switch(e.key){case"ArrowUp":case"ArrowLeft":if(e.preventDefault(),s>-1)t[Math.max(0,s-1)].focus();break;case"ArrowDown":case"ArrowRight":if(e.preventDefault(),s>-1)t[Math.min(t.length-1,s+1)].focus();break;case"Home":e.preventDefault(),t[0].focus();break;case"End":e.preventDefault(),t[t.length-1].focus()}}close(){this.toggleExpand(this.openIndex,!1)}onBlur(e){this.rootNode.contains(e.relatedTarget)||null===this.openIndex||this.toggleExpand(this.openIndex,!1)}onButtonClick(e){var t=e.target,s=this.topLevelNodes.indexOf(t),o="true"===t.getAttribute("aria-expanded");this.toggleExpand(s,!o)}onButtonKeyDown(e){var t=this.topLevelNodes.indexOf(document.activeElement);"Escape"===e.key?this.toggleExpand(this.openIndex,!1):this.useArrowKeys&&this.openIndex===t&&"ArrowDown"===e.key?(e.preventDefault(),this.controlledNodes[this.openIndex].querySelector("a").focus()):this.useArrowKeys&&this.controlFocusByKey(e,this.topLevelNodes,t)}onLinkKeyDown(e){var t=this.topLevelNodes.indexOf(document.activeElement);this.useArrowKeys&&this.controlFocusByKey(e,this.topLevelNodes,t)}onMenuKeyDown(e){if(null!==this.openIndex){var t=Array.prototype.slice.call(this.controlledNodes[this.openIndex].querySelectorAll("a")),s=t.indexOf(document.activeElement);"Escape"===e.key?(this.topLevelNodes[this.openIndex].focus(),this.toggleExpand(this.openIndex,!1)):this.useArrowKeys&&this.controlFocusByKey(e,t,s)}}toggleExpand(e,t){this.openIndex!==e&&this.toggleExpand(this.openIndex,!1),this.topLevelNodes[e]&&(this.openIndex=t?e:null,this.topLevelNodes[e].setAttribute("aria-expanded",t),this.toggleMenu(this.controlledNodes[e],t))}toggleMenu(e,t){const s=document.querySelector(".site-search");e&&(t?(e.classList.add("nav__menu-sub--opened"),s.classList.remove("site-search--opened"),s.querySelector(".site-search__content").classList.remove("site-search__content--opened")):e.classList.remove("nav__menu-sub--opened"))}updateKeyControls(e){this.useArrowKeys=e}}class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".site-header";if(this.node="string"==typeof e?document.querySelector(e):e,!this.node)return;this.toggleMainMenu=this.node.querySelector(".toggle-btn--menu"),this.primaryNav=this.node.querySelector(".nav--primary"),this.content=this.node.querySelector(".nav__content"),this.nav=this.node.querySelector(".nav__menu"),this.backs=this.node.querySelectorAll(".nav__menu-return"),this.searchBtn=this.node.querySelectorAll(".toggle-btn--search"),this.headerScroll(),window.addEventListener("scroll",(()=>{this.headerScroll()})),document.addEventListener("keyup",(e=>{this.handleKeyup(e)})),this.handleKeyup=e=>{const{activeElement:t}=document;if("Escape"===e.key){const e=t.closest("[data-open-node]");if(t===this.toggleMainMenu)return n(),!1;switch(e?.dataset.openNode){case"search":c(e);break;case"nav":n()}}};const s=e=>{e&&(document.body.classList.add("fixed"),e.classList.add("nav--opened"),this.content.classList.add("nav__content--opened"),this.toggleMainMenu.setAttribute("aria-expanded",!0),this.disableTabs(),this.previousActiveElement=document.activeElement)},o=e=>{e&&(e.classList.remove("nav--opened"),document.body.classList.remove("fixed"),this.content.classList.remove("nav__content--opened"),this.toggleMainMenu.setAttribute("aria-expanded",!1),this.enableTabs(),this.previousActiveElement&&this.previousActiveElement.focus())},n=()=>{const e=document.querySelector(".nav--opened");e&&o(e)};this.toggleMainMenu.addEventListener("click",(()=>{const e=this.primaryNav;e.classList.contains("nav--opened")?o(e):(s(e),a())}));for(var i=document.querySelectorAll(".disclosure-menu"),r=0;r<i.length;r++)new t(i[r]);const d=e=>{e&&(e.classList.add("site-search--opened"),e.querySelector(".toggle-btn--search").setAttribute("aria-expanded",!0),e.querySelector(".wp-block-search__input").focus(),this.disableTabs(),this.previousActiveElement=document.activeElement)},c=e=>{e&&(e.classList.remove("site-search--opened"),e.querySelector(".toggle-btn--search").setAttribute("aria-expanded",!1),this.enableTabs(),this.previousActiveElement&&this.previousActiveElement.focus())},a=()=>{const e=document.querySelector(".site-search--opened");e&&c(e)};this.searchBtn.forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".site-search");t.classList.contains("site-search--opened")?c(t):(d(t),n())}))})),this.backs.forEach((e=>{e.addEventListener("click",(function(){e.closest(".nav__menu-sub").classList.remove("nav__menu-sub--opened"),e.closest(".nav__menu-item").querySelector(".nav__menu-toggle").setAttribute("aria-expanded",!1)}))}))}getTabs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return Array.from(e.querySelectorAll(["select","input","textarea","button","a","iframe","object","embed","*[contenteditable]","*[tabindex]"].join(", "))).filter((e=>!e.closest(".site-header")))}disableTabs(){const e=this.getTabs();return e.forEach((e=>{let t=e.getAttribute("tabIndex");t&&e.setAttribute("data-tab-index",t),e.setAttribute("tabIndex","-1")})),e}enableTabs(){const e=this.getTabs();return e.forEach((e=>{let t=e.getAttribute("data-tab-index");t?(e.setAttribute("tabIndex",t),e.removeAttribute("data-tab-index")):e.removeAttribute("tabIndex")})),e}headerScroll(){const e=document.querySelector(".site-header"),t=e.offsetHeight;window.scrollY<t?e.classList.remove("site-header--scroll"):e.classList.add("site-header--scroll")}}class o{static instances=[];constructor(e){if(!e)return;this.node=e,this.btn=e.querySelector(".video-custom-controls__control");const t=e.querySelector("span"),s=e.querySelector("video");this.btn.addEventListener("click",(function(){s.paused?(s.play(),this.classList.remove("is-play"),t.innerHTML="Pause video"):(s.pause(),this.classList.add("is-play"),t.innerHTML="Play video")}))}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".wp-block-video.is-style-custom-controls").forEach((e=>{new o(e)}))}));class n{static instances=[];constructor(e){e&&(this.node=e,this.caption=e.querySelector(".wp-element-caption"),this.credit=e.querySelector(".wp-block-image__credit"),this.caption&&this.credit&&this.caption.prepend(this.credit))}}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".object-fit-cover",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"img",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center";if("string"==typeof e&&(e=Array.from(document.querySelectorAll(e))),e.length)for(let o=0,n=e.length;o<n;o++){let n=e[o].querySelector(t);n&&(e[o].style.backgroundPosition=s,e[o].style.backgroundSize="cover",e[o].style.backgroundImage=`url(${n.currentSrc||n.src})`,n.style.display="none")}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".wp-block-image").forEach((e=>{new n(e)}))})),document.readyState.match(/complete|loaded/)?i():document.addEventListener("DOMContentLoaded",i);class r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.node=e,this.config={openClass:"dropdown--open",...t},this.button=this.node.querySelector(".dropdown__button"),this.placeholder=this.button.dataset.placeholder,this.drop=this.node.querySelector(".dropdown__drop"),this.resetBtn=this.node.querySelector('button[type="reset"]'),this.button.addEventListener("click",this.toggle.bind(this)),this.node.addEventListener("change",this.setState.bind(this),!0),this.node.dataset.dropdownInit=!0,this.checkFocusLost=e=>{let{target:t}=e;for(;t&&t.parentNode;){if(t===this.node)return;t=t.parentNode}this.close()}}toggle(){return this.node.classList.contains(this.config.openClass)?this.close():this.open()}open(){this.node.classList.add(this.config.openClass),this.drop.removeAttribute("hidden"),document.body.addEventListener("focus",this.checkFocusLost,!0),document.body.addEventListener("click",this.checkFocusLost)}close(){this.node.classList.remove(this.config.openClass),this.drop.hidden=!0,document.body.removeEventListener("focus",this.checkFocusLost,!0),document.body.removeEventListener("click",this.checkFocusLost)}reset(){for(;this.button.firstChild;)this.button.removeChild(this.button.firstChild);this.button.appendChild(document.createTextNode(this.placeholder))}setState(){const e=this.drop.querySelector(":checked");if(e){for(;this.button.firstChild;)this.button.removeChild(this.button.firstChild);e.value?this.button.appendChild(document.createTextNode(e.parentNode.textContent)):this.button.appendChild(document.createTextNode(this.placeholder))}}}document.addEventListener("DOMContentLoaded",(()=>Array.from(document.querySelectorAll(".dropdown")).forEach((e=>{let t={};try{t=e.dataset}catch(e){}return new r(e,t)})))),document.body.addEventListener("facet:reload",(e=>Array.from(document.querySelectorAll(".dropdown")).filter((e=>!e.dataset.dropdownInit)).forEach((e=>new r(e)))));var d=new class{constructor(){document.addEventListener("DOMContentLoaded",this.ready.bind(this)),window.addEventListener("resize",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=null;function o(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];s||(s=setTimeout((()=>{e(...n),s=null}),t))}return o.cancel=()=>{clearTimeout(s),s=null},o}(this.resize.bind(this),25)),this.resize()}ready(){!function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"focus-within";t instanceof HTMLElement?new e(t,s):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.isArray(t)||(t=Array.from(t)),t.map((t=>new e(t,s))))}("label, form, fieldset"),this.header=new s,this.video=new o,this.image=new n,function(){const e=document.querySelectorAll(".wp-block-navigation-item");if(!e.length)return;for(let t=0;t<e.length;t++)if(e[t].classList.contains("current-menu-item"))return;const t=window.location.href.endsWith("/")?window.location.href:`${window.location.href}/`;for(let s=0;s<e.length;s++){const o=e[s].querySelector("a");(o.href.endsWith("/")?o.href:`${o.href}/`)===t&&e[s].classList.add("current-menu-item")}}()}resize(){document.body&&(window.innerWidth===document.body.clientWidth?document.documentElement.classList.remove("has-scrollbar"):document.documentElement.classList.add("has-scrollbar"))}};return d}();
//# sourceMappingURL=scripts.min.js.map
